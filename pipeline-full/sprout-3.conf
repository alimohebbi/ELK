input{

 snmp {
    mib_paths => ["/mib-dic/PROJECT-CLEARWATER-MIB.dic", "/mib-dic/UCD-SNMP-MIB.dic"]
    walk => [
		".1.2.826.0.1.1578918.9.3.26",
		".1.2.826.0.1.1578918.9.3.27",
		".1.2.826.0.1.1578918.9.3.28",
		".1.2.826.0.1.1578918.9.3.29",
		".1.2.826.0.1.1578918.9.3.30",
		".1.2.826.0.1.1578918.9.3.31",
		".1.2.826.0.1.1578918.9.3.32",
		".1.2.826.0.1.1578918.9.3.33",
		".1.2.826.0.1.1578918.9.3.34",
		".1.2.826.0.1.1578918.9.3.35",
		".1.2.826.0.1.1578918.9.3.36",
		".1.2.826.0.1.1578918.9.3.37",
		".1.2.826.0.1.1578918.9.3.38",
		".1.2.826.0.1.1578918.9.3.39",
		".1.2.826.0.1.1578918.9.3.40",
		".1.2.826.0.1.1578918.9.3.41",
		".1.2.826.0.1.1578918.9.3.42",
		".1.2.826.0.1.1578918.9.3.43",
		".1.2.826.0.1.1578918.9.3.44",
		".1.2.826.0.1.1578918.9.3.45"
		]
    hosts => [
		{host => "udp:192.168.200.154/161" community => "clearwater"},
		{host => "udp:192.168.200.136/161" community => "clearwater"},
		{host => "udp:192.168.200.179/161" community => "clearwater"},
		{host => "udp:192.168.200.162/161" community => "clearwater"},
		{host => "udp:192.168.200.167/161" community => "clearwater"}
		]
    interval => 60
    oid_root_skip => 10
#    oid_path_length => 3
    type => "sprout"
  }
}

filter{
 ruby{
  code =>
"event.to_hash.each { |k, v|
   if k.end_with? ('110.111.100.101')
     new_key = k[0,k.length - 18]
     event.set(new_key, v)
     event.remove(k)
   end
}"
}

}
output {
 elasticsearch {
        hosts => [ "http://elasticsearch:9200" ]
	index => "sprout-3"
    }
}
